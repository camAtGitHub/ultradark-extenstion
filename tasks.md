
# Task 1 - Implement Developer Mode Debug Logging

**Priority:** MEDIUM

**Goal / Why:**
To provide developers with detailed console logs to diagnose issues related to theme application, value calculations, and site classification. This is essential for efficient future debugging and maintenance.

**Expected Outcome / Acceptance Criteria:**

* A global "Developer Mode" toggle is available within the extension's settings.
* When Developer Mode is enabled, detailed debug logs are output to the Browser Console.
* All log statements generated by the extension must be prepended with `[UltraDark]` for easy filtering.
* When enabled debug logs MUST be output everytime as there are bugs with it only working intermittently.
* Logs must detail CSS/DOM modifications, showing before-and-after values for things like RGB colors or element styles.
* The site classification logic (detecting if a page is already dark) must be logged, including the specific values and elements used to make the determination.
* When Developer Mode is disabled, no debug logs should be produced.

**Status:** DONE

---

# Task 2 - Update 'Reset Site Defaults' to 'Reset Sliders'

**Priority:** LOW

**Goal / Why:**
To make the button's function in the popup UI more intuitive. Users expect it to reset the visible sliders (brightness, contrast, etc.) for the current session, not necessarily wipe saved settings. This change prevents user confusion.

**Expected Outcome / Acceptance Criteria:**

* In the popup UI, the button text is changed from 'Reset Site Defaults' to 'Reset Sliders'.
* Clicking the 'Reset Sliders' button immediately sets the brightness, contrast, sepia, greyscale, and blueshift sliders to their default values on the active page.
* This action only affects the current view and does not modify the site's saved settings in storage.
* The corresponding unit tests are created and passed, verifying that the sliders reset correctly without altering persistent storage.

**Status:** DONE

---

# Task 3 - Review and Fix Linting Errors and Warnings

**Priority:** LOW

**Goal / Why:**
To improve overall code quality, consistency, and prevent potential bugs by ensuring the codebase adheres to the established linting rules.

**Expected Outcome / Acceptance Criteria:**

* The project's linting script is executed across the entire codebase.
* All reported linting errors are fixed.
* All reported linting warnings are reviewed and resolved.
* The linting command completes successfully with zero errors or warnings.

**Status:** DONE

---

# Task 4 - Create Documentation for Local Storage Schema

**Priority:** MEDIUM

**Goal / Why:**
To create a central reference document that explains how the extension uses `browser.storage.local`. This will significantly speed up future development and make debugging storage-related issues much easier for any developer working on the project.

**Expected Outcome / Acceptance Criteria:**

* A new Markdown document (e.g., `STORAGE_SCHEMA.md`) is created in the repository's root or `/docs` directory.
* The document lists every key used by the extension in `browser.storage.local`.
* For each key, the document details its purpose, the data structure it holds (e.g., Object, Array, String), and an example value.
* The documentation clearly explains what each setting affects, from global configurations to per-site overrides.

**Status:** DONE

---

# Task 5 - BUG: Visual artifacts remain after disabling the extension

**Priority:** CRITICAL

**Goal / Why:**
Users report that injected styles and modifications are not properly removed when the extension is disabled for a site, leaving pages in a broken state. This is a major bug that severely degrades user trust and experience.

**Expected Outcome / Acceptance Criteria:**

* When the extension is toggled "off" for a site via the popup, all injected CSS, style tags, and DOM elements are immediately and completely removed.
* The web page must be restored to its original state without any lingering visual artifacts or broken styles.
* This fix must work reliably on complex Single-Page Applications (SPAs) as well as traditional static sites.
* The page must be restored to normal without requiring a user to restart their browser.

**Status:** DONE

---

# Task 6 - Remove non-functional 'Add Current Site' button

**Priority:** LOW

**Goal / Why:**
The 'Add Current Site' button under the per-site overrides section is non-functional. Removing it will clean up the UI and prevent user confusion caused by clicking a button that does nothing.

**Expected Outcome / Acceptance Criteria:**

* The button labeled 'Add Current Site' is completely removed from the popup's HTML structure.
* All associated JavaScript event listeners and handler functions for this button are removed from the codebase.
* The UI layout remains clean and well-structured after the button's removal.

**Status:** DONE
